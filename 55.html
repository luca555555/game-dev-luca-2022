<!DOCTYPE html>
<html>
  
<head>
    <title>
       uwu
    </title>

    <style>
    html {
      font-size:22px
    }
  
    body {
      background-color: rgb(100, 96, 96);
      color: rgb(255, 255, 255);
      font-family: cursive;
      font-style: normal;
      overflow: hidden;
    }
    </style>
</head>
<body onload="{srt(); srt2(); srt3();}" onresize="{size()}">
  <img id="player" src="images/Drawing.png" style="width: 100px; height: 100px; position: absolute; top: 150px; left: 100px;">
  <center>
  <div id="try" style="position: sticky; font-size: 100px;">
    <button onclick="{ag()}" style="font-size: 100px; cursor: pointer">Restart</button>
  </div>
  </center>

  <img id="death_left" src="" style="width: 30px; height: 50px; position: absolute; top: 0px; left: 0px; background-color: rgb(170, 72, 72);">
  <img id="death_right" src="" style="width: 30px; height: 50px; position: absolute; top: 0px; left: 100px; background-color: rgb(48, 140, 143);">

  <img id="block01_left" src="" style="width: 30px; height: 250px; position: absolute; top: 150px; left: 800px; background-color: black;">
  <img id="block01_right" src="" style="width: 30px; height: 250px; position: absolute; top: 150px; left: 870px; background-color: black;">
  <img id="block01_top" src="" style="width: 100px; height: 30px; position: absolute; top: 500px; left: 900px; background-color: black;">
  <img id="block01_deco" src="" style="z-index: 1; width: 270px; height: 30px; position: absolute; top: 500px; left: 900px; background-color: red;">

  <img id="block02_left" src="" style="width: 30px; height: 250px; position: absolute; top: 150px; left: 800px; background-color: black;">
  <img id="block02_right" src="" style="width: 30px; height: 250px; position: absolute; top: 150px; left: 870px; background-color: black;">
  <img id="block02_top" src="" style="width: 100px; height: 30px; position: absolute; top: 500px; left: 1100px; background-color: black;">
  <img id="block02_deco" src="" style="z-index: 1; width: 270px; height: 30px; position: absolute; top: 500px; left: 900px; background-color: red;">
  <script>
    move_right = false
    move_left = false
    move_down = false
    jump = false

    stop_right = false
    stop_left = false
    stop_down = false

    gameover = false

    let clock
    let clock2

    function ag() {
      gameover = false
      document.getElementById('player').style.left = '100px'
      document.getElementById('player').style.top = '100px'
    }

    function myHitOther(my1,my2){
      left1   = parseInt(document.getElementById(my1).style.left)
      right1  = left1 + parseInt(document.getElementById(my1).style.width)
      top1    = parseInt(document.getElementById(my1).style.top)   
      bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
      left2   = parseInt(document.getElementById(my2).style.left)
      right2  = left2 + parseInt(document.getElementById(my2).style.width)
      top2    = parseInt(document.getElementById(my2).style.top)   
      bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
      if ((right1  >=  left2  ) &&      	   
      (bottom1 >=  top2   ) &&
      (left1   <=  right2 ) &&
      (top1    <=  bottom2) ){
        return true
      }
    }

    function myCheckHit(){
      if ( myHitOther('player', 'block01_left') ){
        stop_right = true
      }

      if ( myHitOther('player', 'block01_right') ){
        stop_left = true
      }

      if ( myHitOther('player', 'block01_top') ){
        stop_down = true
      }
      
      if ( myHitOther('player', 'block02_left') ){
        stop_right = true
      }

      if ( myHitOther('player', 'block02_right') ){
        stop_left = true
      }

      if ( myHitOther('player', 'block02_top') ){
        stop_down = true
      }

      if ( myHitOther('player', 'death_left') ){
        gameover = true
      }

      if ( myHitOther('player', 'death_right') ){
        gameover = true
      }
    }

    function srt() {
      size()
      size2()
      document.getElementById('try').style = 'position: absolute; top: -10000px;'

      clearInterval(clock)
      clock = setInterval(function(){
        if (gameover == true) {
          document.getElementById('try').style = 'position: sticky; font-size: 100px;'
        } else if (gameover == false) {
          document.getElementById('try').style = 'position: absolute; top: -10000px;'
        }

        if (parseInt(document.getElementById('player').style.top) < floor && stop_down == false && gameover == false) {
        document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) + 3 + 'px';
        } else if (stop_down == true) {
          jump = true
          document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 2 + 'px';
        } else {
          if (gameover == false) {
          jump = true
          }
        }

        if (move_right == true && parseInt(document.getElementById('player').style.left) < right_side && stop_right == false && gameover == false) {
          document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px';
        } else if (stop_right == true) {
          document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px';
        }

        if (move_left == true && parseInt(document.getElementById('player').style.left) > 0 && stop_left == false && gameover == false) {
          document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px';
        } 

        if (move_down == true && parseInt(document.getElementById('player').style.top) < floor && stop_down == false && gameover == false) {
          document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) + 10 + 'px';
        }

        stop_right = false
        stop_left = false
        stop_down = false
        myCheckHit()
      }, 5)
    }

    cng01 = false
    cng02 = false

    function srt2() {
      clearInterval(clock2)
      clock2 = setInterval(function(){
        //console.log('fff')
        document.getElementById('block01_top').style.left = parseInt(document.getElementById('block01_top').style.left) - 10 + 'px'
        if (parseInt(document.getElementById('block01_top').style.left) == 0 || parseInt(document.getElementById('block01_top').style.left) < 0) {
          x = Math.floor(Math.random() * (1000 - 1) + 1)

          document.getElementById('block01_top').style.left = window.innerWidth + x + 'px'
          cng01 = true
        }

        document.getElementById('block02_top').style.left = parseInt(document.getElementById('block02_top').style.left) - 10 + 'px'
        if (parseInt(document.getElementById('block02_top').style.left) == 0 || parseInt(document.getElementById('block02_top').style.left) < 0) {
          x = Math.floor(Math.random() * (1000 - 1) + 1)

          document.getElementById('block02_top').style.left = window.innerWidth + x + 'px'
          cng02 = true
        }

        size()
        size2()
      }, 30)
    }

    function size() {
      floor = window.innerHeight - 110
      right_side = window.innerWidth - 110

      x = window.innerHeight - 110
      x2 = window.innerHeight - 500

      if (cng01 == true) {
      x3 = Math.floor(Math.random() * (x - x2) + x2)
      document.getElementById('block01_top').style.top = x3 + 'px'
      cng01 = false
      }

      document.getElementById('block01_left').style.top = parseInt(document.getElementById('block01_top').style.top) + 30 +'px'
      document.getElementById('block01_left').style.left = parseInt(document.getElementById('block01_top').style.left) - 30 + 'px'
      document.getElementById('block01_left').style.height = floor + 'px'

      document.getElementById('block01_right').style.top = parseInt(document.getElementById('block01_top').style.top) + 30 +'px'
      document.getElementById('block01_right').style.left = parseInt(document.getElementById('block01_top').style.left) + parseInt(document.getElementById('block01_top').style.width) + 'px'
      document.getElementById('block01_right').style.height = floor + 'px'

      document.getElementById('block01_deco').style.left = parseInt(document.getElementById('block01_top').style.left) - 30 + 'px'
      document.getElementById('block01_deco').style.width = parseInt(document.getElementById('block01_top').style.width) + 60 + 'px'
      document.getElementById('block01_deco').style.top = document.getElementById('block01_top').style.top
      document.getElementById('block01_deco').style.height = floor + 'px'

      document.getElementById('death_left').style.height = floor + 110 + 'px'

      document.getElementById('death_right').style.left = right_side + 80 + 'px'
      document.getElementById('death_right').style.height = floor + 110 + 'px'
    }

    function size2() {
      floor = window.innerHeight - 110
      right_side = window.innerWidth - 110

      x = window.innerHeight - 110
      x2 = window.innerHeight - 500

      if (cng02 == true) {
      x3 = Math.floor(Math.random() * (x - x2) + x2)
      document.getElementById('block02_top').style.top = x3 + 'px'
      cng02 = false
      }

      document.getElementById('block02_left').style.top = parseInt(document.getElementById('block02_top').style.top) + 30 +'px'
      document.getElementById('block02_left').style.left = parseInt(document.getElementById('block02_top').style.left) - 30 + 'px'
      document.getElementById('block02_left').style.height = floor + 'px'

      document.getElementById('block02_right').style.top = parseInt(document.getElementById('block02_top').style.top) + 30 +'px'
      document.getElementById('block02_right').style.left = parseInt(document.getElementById('block02_top').style.left) + parseInt(document.getElementById('block01_top').style.width) + 'px'
      document.getElementById('block02_right').style.height = floor + 'px'

      document.getElementById('block02_deco').style.left = parseInt(document.getElementById('block02_top').style.left) - 30 + 'px'
      document.getElementById('block02_deco').style.width = parseInt(document.getElementById('block02_top').style.width) + 60 + 'px'
      document.getElementById('block02_deco').style.top = document.getElementById('block02_top').style.top
      document.getElementById('block02_deco').style.height = floor + 'px'
    }

    function hi(min, max) {
      x = Math.floor(Math.random() * (max - min) + min)
      document.getElementById('block01_top').style.top = x + 'px'
      console.log(x)
    }

    document.addEventListener('keydown', function(e) {
      if (e.key == 'd' || e.key == 'D') {
        move_right = true
      }

      if (e.key == 'a' || e.key == 'A') {
        move_left = true
      }

      if (e.key == 's' || e.key == 'S') {
        move_down = true
      }

      if (e.keyCode == 32) {
        if (jump == true) {
        jump = false
        document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) - 500 + 'px';
        }
      }

      if (e.key == 'p') {
      x = window.innerHeight - 110
      x2 = window.innerHeight - 500
      console.log(x + '\n' + x2)
      hi(x, x2)
      //hi(300, 750)
      }
    });

    document.addEventListener('keyup', function(e) {
      if (e.key == 'd' || e.key == 'D') {
        move_right = false
      }

      if (e.key == 'a' || e.key == 'A') {
        move_left = false
      }

      if (e.key == 's' || e.key == 'S') {
        move_down = false
      }
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html> 
<head>
  <title>Duck</title>
  <link rel="stylesheet" href="shooter.css" type="text/css">
  <script src="shooter.js"></script>
  <style>
    html {
    font-size: 22px;
}

body {
    color: white;
    background-color: grey;
    overflow: hidden;
}

.genaric {
    position:absolute;
    height: 100px;
    width: 100px;
    top: 100px;
    left: 100px;
    background-color: black;
}
  </style>
</head>
<body onresize="{sz();}" onload="{sz(); szz(); srt();}">
  
  <!--php sql database-->

  <img id="player" src="images/Drawing.png" style="width: 100px; height: 100px; position: absolute; top: 0px; left: 75px;">

  <img id="death" src="" alt="Death cube" style=" background-color:crimson; width: 100px; height: 100px; position: absolute; top: 0px; left: 275px;">
  <img id="" src="" alt="Save data" style=" background-color:beige; width: 100px; height: 100px; position: absolute; top: 0px; left: 375px;">

  <img id="x" src="images/sky.png" style="z-index: -10; position: absolute; width: 100px; height: 100px; top: 0px; left: -100px;">
  
  <script>
    function myHitOther(my1,my2){
  left1   = parseInt(document.getElementById(my1).style.left)
  right1  = left1 + parseInt(document.getElementById(my1).style.width)
  top1    = parseInt(document.getElementById(my1).style.top)   
  bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
  left2   = parseInt(document.getElementById(my2).style.left)
  right2  = left2 + parseInt(document.getElementById(my2).style.width)
  top2    = parseInt(document.getElementById(my2).style.top)   
  bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
  if ((right1  >=  left2  ) &&      	   
      (bottom1 >=  top2   ) &&
      (left1   <=  right2 ) &&
      (top1    <=  bottom2) ){
      return true
  }
}


function myCheckHit(){
  if ( myHitOther('player','death') ){
    console.log('touched')
  }
}



//Move the player
let clock

function srt() {
  clearInterval(clock)
  clock = setInterval(function(){
    if (move01 == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px'
    }

    if (move02 == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px'
    }

    if (move03 == true) {
      document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) - 10 + 'px'
    }

    if (move04 == true) {
      document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) + 10 + 'px'
    }
    myCheckHit()
  }, 10)
  }

move01 = false //right
move02 = false //left
move03 = false //up
move04 = false //down

//detect when keys are pressed
document.addEventListener("keydown", function(e) {
  if (e.key == 'd' || e.key == 'D') {
    move01 = true
    }

  if (e.key == 'a' || e.key == 'A') {
    move02 = true
    }

  if (e.key == 'w' || e.key == 'W') {
    move03 = true
    }

  if (e.key == 's' || e.key == 'S') {
    move04 = true
    }
});


document.addEventListener("keyup", function(e) {
  if (e.key == 'd' || e.key == 'D') {
    move01 = false
    }

  if (e.key == 'a' || e.key == 'A') {
    move02 = false
    }

  if (e.key == 'w' || e.key == 'W') {
    move03 = false
    }
  
  if (e.key == 's' || e.key == 'S') {
    move04 = false
    }
});

//Size stuff to the players screen
function szz() {
  var winX = window.innerWidth + "px";
  var winY = window.innerHeight + "px";
  console.log('Window size \n \n' + 'Width: ' + winX + '\n' + 'height: ' + winY)
  document.getElementById('x').style.width = winX
  document.getElementById('x').style.height = winY
}

//disable zoom
function sz(){
  let zoom = Number((window.innerWidth / window.screen.width).toFixed(3));
  document.firstElementChild.style.zoom = zoom;
}
  </script>
</body>
</html>

<!DOCTYPE html>
<html> 
<head>
  <title>Duck</title>
  <meta name="viewport" user-scalable="no">
  <link rel="stylesheet" href="shooter.css" type="text/css">
  <script src="shooter.js"></script>
</head>
<body onload="{srt(); sz();}" onresize="{sz();}">
  
  <!--php sql database-->

  <img id="player" src="images/Drawing.png" style="zoom: 100%; width: 100px; height: 100px; position: absolute; top: 0px; left: 75px;">

  <img id="death" src="" alt="Death cube" style="background-color:crimson; width: 100px; height: 100px; position: absolute; top: 0px; left: 275px;">
  <img id="" src="" alt="Save data" style="background-color:beige; width: 100px; height: 100px; position: absolute; top: 0px; left: 385px;">

  <div id="playarea" style="z-index: -998; background-color:black; width: 1330px; height: 550px; position: absolute; top: 100px; left: 100px;"></div>
  <div id="walls" style="z-index: -999; background-color:grey; width: 1550px; height: 760px; position: absolute; top: 0px; left: 0px;"></div>

  <img id="x" src="images/sky.png" style="z-index: -1000; position: absolute; width: 100px; height: 100px; top: 0px; left: 0px;">
</body>
</html>







//Check if this are touching
function myHitOther(my1,my2){
  left1   = parseInt(document.getElementById(my1).style.left)
  right1  = left1 + parseInt(document.getElementById(my1).style.width)
  top1    = parseInt(document.getElementById(my1).style.top)   
  bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
  left2   = parseInt(document.getElementById(my2).style.left)
  right2  = left2 + parseInt(document.getElementById(my2).style.width)
  top2    = parseInt(document.getElementById(my2).style.top)   
  bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
  if ((right1  >=  left2  ) &&      	   
      (bottom1 >=  top2   ) &&
      (left1   <=  right2 ) &&
      (top1    <=  bottom2) ){
      return true
  }
}


function myCheckHit(){
  if ( myHitOther('player','playarea') ){
    console.log('In area')
    boundrys = false
  } else {
    console.log('out of area')
    boundrys = true
  }
}

boundrys = false
bound_right = false
bound_left = false
bound_up = false
bound_down = false



//Move the player
let clock

function srt() {
  clearInterval(clock)
  clock = setInterval(function(){

    //
    if (move01 == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px'
    } 
    
    //break if player is bound on right
    if (move01 == true && boundrys == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + -10 + 'px'
      bound_right = true
    }

    //work if player is bound on the left
    if (move01 == true && bound_left == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px'
      bound_left = false
    } 



    if (move02 == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px'
    }

    if (move02 == true && boundrys == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 10 + 'px'
      bound_left = true
    }

    if (move02 == true && bound_right == true) {
      document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 10 + 'px'
      bound_right = false
    }



    if (move03 == true && boundrys == false) {
      document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) - 10 + 'px'
    }



    if (move04 == true && boundrys == false) {
      document.getElementById('player').style.top = parseInt(document.getElementById('player').style.top) + 10 + 'px'
    }
    myCheckHit()
  }, 10)
  }

move01 = false //right
move02 = false //left
move03 = false //up
move04 = false //down

//detect when keys are pressed
document.addEventListener("keydown", function(e) {
  if (e.key == 'd' || e.key == 'D') {
    move01 = true
    }

  if (e.key == 'a' || e.key == 'A') {
    move02 = true
    }

  if (e.key == 'w' || e.key == 'W') {
    move03 = true
    }

  if (e.key == 's' || e.key == 'S') {
    move04 = true
    }
});


document.addEventListener("keyup", function(e) {
  if (e.key == 'd' || e.key == 'D') {
    move01 = false
    }

  if (e.key == 'a' || e.key == 'A') {
    move02 = false
    }

  if (e.key == 'w' || e.key == 'W') {
    move03 = false
    }
  
  if (e.key == 's' || e.key == 'S') {
    move04 = false
    }
});

//set the background
function sz() {
  
  var x = window.innerWidth
  document.getElementById('x').style.width = x + 'px'

  var y = window.innerHeight
  document.getElementById('x').style.height = y + 'px'

  console.log('window dimentions \n' + x + '\n' + y)
}
